<html>
  <head>
    <script
      id="sap-ui-bootstrap"
      type="text/javascript"
      src="https://sapui5.hana.ondemand.com/resources/sap-ui-core.js"
      data-sap-ui-libs="sap.m, sap.viz, sap.ui.commons, sap.chart"
      data-sap-ui-theme="sap_fiori_3_dark"
      data-sap-ui-bindingSyntax="complex"
      data-sap-ui-compatVersion="edge"
    ></script>
    <script id="myXml" type="text/xmldata">
      <mvc:View
      xmlns:core="sap.ui.core"
      xmlns:mvc="sap.ui.core.mvc"
      xmlns:viz="sap.viz.ui5.controls"
      xmlns:layout="sap.ui.layout"
      xmlns:uxap="sap.uxap"
      xmlns:commons="sap.suite.ui.commons"
      xmlns:f="sap.f"
      xmlns:form="sap.ui.layout.form"
      xmlns="sap.m"
      controllerName="mainController"
      displayBlock="true"
      heigth="100%"
			width="100%"
      >

      <App>

      	<uxap:ObjectPageLayout id="idPage"
      		upperCaseAnchorBar="false"
					
     		>

					<uxap:headerTitle >
						<uxap:ObjectPageDynamicHeaderTitle>

							<uxap:expandedHeading>
								<VBox>
									<Title text="Precios electricidad" wrapping="true"/>

									<FlexBox wrap="Wrap" fitContainer="true" alignItems="Center" class="sapUiTinyMarginTop">

										<GenericTile
												class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
												header="Precio actual"
												frameType = "OneByHalf"
												subheader="{kpis>/actual/hour}"
												sizeBehavior="Small"
											>
												<TileContent unit="{kpis>/actual/currency}">
													<NumericContent value="{kpis>/actual/price}"
														valueColor="{kpis>/actual/category}"
														indicator="{kpis>/actual/indicator}"
														withMargin="false" />
												</TileContent>
											</GenericTile>
										
											<GenericTile
												class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
												header="Precio mínimo (dia)"
												frameType = "OneByHalf"
												subheader="{kpis>/min/hour}"
												sizeBehavior="Small"
											>
												<TileContent unit="{kpis>/min/currency}">
													<NumericContent value="{kpis>/min/price}"
														valueColor="{kpis>/min/category}"
														indicator="{kpis>/min/indicator}" withMargin="false" />
												</TileContent>
											</GenericTile>

											<GenericTile
												class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
												header="Precio medio (dia)"
												frameType = "OneByHalf"
												subheader="{kpis>/average/day}"
												sizeBehavior="Small"
											>
												<TileContent unit="{kpis>/average/currency}">
													<NumericContent value="{kpis>/average/price}"
													indicator="{kpis>/average/indicator}" withMargin="false" />
												</TileContent>
											</GenericTile>

											<GenericTile
												class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"
												header="Precio máximo (dia)"
												frameType = "OneByHalf"
												subheader="{kpis>/max/hour}"
												sizeBehavior="Small"	
											>
												<TileContent unit="{kpis>/max/currency}">
														<NumericContent value="{kpis>/max/price}"
															valueColor="{kpis>/max/category}"
															indicator="{kpis>/max/indicator}" withMargin="false" />
												</TileContent>
											</GenericTile>

										</FlexBox>

								


								</VBox>
							</uxap:expandedHeading>

							<uxap:snappedHeading>
								<FlexBox fitContainer="true" alignItems="Center">
									<Title text="Precios electricidad" wrapping="true"/>
								</FlexBox>
							</uxap:snappedHeading>


						</uxap:ObjectPageDynamicHeaderTitle>
					
					</uxap:headerTitle>

					<uxap:sections>

						<uxap:ObjectPageSection titleUppercase="false" title="Evolución">
							<uxap:subSections>
								<uxap:ObjectPageSubSection titleUppercase="false">


										<commons:ChartContainer
											id="chartContainer"
											showFullScreen="true"
											showPersonalization="false"
											showZoom="true"
											autoAdjustHeight="true"
											title="Precio/hora"
											width="90%"
											class="sapUiTinyMarginTop sapUiSmallMarginBottom "
											>


											<commons:content>
												<commons:ChartContainerContent>
													<commons:content>

														<viz:VizFrame id="idVizFrameBar" vizType='bar' width="100%" 
																			uiConfig="{applicationSet:'fiori'}"></viz:VizFrame>

													</commons:content>
												</commons:ChartContainerContent>
											</commons:content>
										</commons:ChartContainer>


									</uxap:ObjectPageSubSection>
							</uxap:subSections>
						</uxap:ObjectPageSection>

						<uxap:ObjectPageSection titleUppercase="false" title="Franja más barata">
							<uxap:subSections>
								<uxap:ObjectPageSubSection titleUppercase="false">

								<form:SimpleForm id="SimpleFormChange354wide"
									editable="true"
									layout="ResponsiveGridLayout"
									labelSpanXL="4"
									labelSpanL="3"
									labelSpanM="4"
									labelSpanS="12"
									adjustLabelSpan="false"
									emptySpanXL="0"
									emptySpanL="4"
									emptySpanM="0"
									emptySpanS="0"
									columnsXL="2"
									columnsL="1"
									columnsM="1"
									singleContainerFullSize="false">
								<form:content>
									<Label text="Número de horas seguidas" labelFor="num_hours" />
									<Input id="num_hours" required="true" type="Number" placeholder="Enter a number"
										class="sapUiSmallMarginBottom"
									/>

									<Button text="Calculate"
										press="onPressCalculate"
									/>

									<Label text="Franja más barata" labelFor="res_hours" />
									<Text id="res_hours" text="" />

									</form:content>
									</form:SimpleForm>

								</uxap:ObjectPageSubSection>
							</uxap:subSections>
						</uxap:ObjectPageSection>







						</uxap:sections>

      		</uxap:ObjectPageLayout>
      	</App>
      </mvc:View>
    </script>
    <script src="mainController.js"></script>
  </head>
  <body class="sapUiBody">
    <div id="content"></div>
  </body>
</html>
